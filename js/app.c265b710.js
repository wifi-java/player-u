(function(e){function t(t){for(var r,a,c=t[0],s=t[1],u=t[2],p=0,d=[];p<c.length;p++)a=c[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/player-u/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},2133:function(e,t,n){},"3e46":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23");function o(e,t){var n=Object(r["resolveComponent"])("router-view");return Object(r["openBlock"])(),Object(r["createBlock"])(n)}n("b75f");var i=n("6b0d"),a=n.n(i);const c={},s=a()(c,[["render",o]]);var u=s,l=n("9483");Object(l["a"])("".concat("/player-u/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var p=n("6c02"),d={class:"layout"};function f(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("player"),s=Object(r["resolveComponent"])("list");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",d,[Object(r["withDirectives"])(Object(r["createVNode"])(c,{ref:"player"},null,512),[[r["vShow"],!0]]),Object(r["createVNode"])(s,{onChangeMusic:a.changeMusic},null,8,["onChangeMusic"])])}function h(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("YouTube");return Object(r["openBlock"])(),Object(r["createBlock"])(c,{ref:"youtube",src:i.url,onReady:a.onReady,onStateChange:a.onStateChange},null,8,["src","onReady","onStateChange"])}var m=n("8e25"),b=n.n(m),g={name:"Player",components:{YouTube:b.a},data:function(){return{url:"",volume:100,State:{UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5}}},computed:{isListEmpty:function(){return 0===this.$store.getters["playList/list"].length},currentIndex:function(){return this.$store.getters["playList/index"]}},methods:{onReady:function(){this.$refs.youtube.setVolume(this.volume)},onStateChange:function(e){switch(e.data){case this.State.PLAYING:break;case this.State.PAUSED:break;case this.State.ENDED:this.emitter.emit("next");break;case this.State.UNSTARTED:this.isListEmpty?(alert("유튜브 동영상 주소를 추가해주세요."),location.reload()):-1===this.currentIndex&&this.emitter.emit("next");break}},play:function(){this.$refs.youtube.playVideo()},pause:function(){this.$refs.youtube.pauseVideo()},changeMusic:function(e){this.url=e,this.play()}}};const v=a()(g,[["render",h]]);var y=v,O={class:"scroll"},j=["onDblclick"],x=["src"],w={class:"text"},L=["onClick"];function S(e,t,n,o,i,a){var c=Object(r["resolveComponent"])("draggable");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createElementVNode"])("button",{onClick:t[0]||(t[0]=Object(r["withModifiers"])((function(){return a.add&&a.add.apply(a,arguments)}),["prevent"]))},"추가"),Object(r["createElementVNode"])("button",{onClick:t[1]||(t[1]=Object(r["withModifiers"])((function(){return a.loop&&a.loop.apply(a,arguments)}),["prevent"]))},Object(r["toDisplayString"])(a.isLoop?"반복 O":"반복 X"),1),Object(r["createElementVNode"])("div",O,[Object(r["createElementVNode"])("ul",null,[Object(r["createVNode"])(c,{modelValue:a.list,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.list=e}),"item-key":"index"},{item:Object(r["withCtx"])((function(e){var t=e.element,n=e.index;return[Object(r["createElementVNode"])("li",{class:Object(r["normalizeClass"])({playing:a.currentIndex===n}),onDblclick:Object(r["withModifiers"])((function(e){return a.changeMusic(n,t.url)}),["prevent"])},[Object(r["createElementVNode"])("img",{class:"thumbnail",src:t.thumbnail},null,8,x),Object(r["createElementVNode"])("span",w,Object(r["toDisplayString"])(t.title),1),Object(r["createElementVNode"])("button",{onClick:Object(r["withModifiers"])((function(e){return a.remove(n)}),["prevent"])},"삭제",8,L)],42,j)]})),_:1},8,["modelValue"])])])])}n("ac1f"),n("466d");var k=n("b76a"),I=n.n(k),E={name:"List",components:{draggable:I.a},computed:{list:{get:function(){return this.$store.getters["playList/list"]},set:function(e){this.$store.dispatch("playList/updateList",e)}},currentIndex:function(){return this.$store.getters["playList/index"]},isLoop:function(){return this.$store.getters["playList/loop"]},isListEmpty:function(){return 0===this.$store.getters["playList/list"].length}},methods:{changeMusic:function(e,t){this.$store.dispatch("playList/updateIndex",e),this.$emit("changeMusic",t)},add:function(){var e=prompt("추가");this.isYouTube(e)&&this.$store.dispatch("playList/add",e)},remove:function(e){confirm("삭제하시겠습니까?")&&this.$store.dispatch("playList/remove",e)},next:function(){if(!this.isListEmpty)if(this.currentIndex<this.list.length-1){var e=this.currentIndex+1,t=this.list[e];this.$store.dispatch("playList/updateIndex",e),this.$emit("changeMusic",t.url)}else this.isLoop&&(this.$store.dispatch("playList/updateIndex",-1),this.next())},loop:function(){this.$store.dispatch("playList/updateLoop",!this.isLoop)},isYouTube:function(e){var t="";if(e){var n=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\\&\\?]*).*/,r=e.match(n);r&&(t=r[7])}return t&&t.length>0}},created:function(){this.emitter.on("next",this.next)}};n("e48c");const N=a()(E,[["render",S],["__scopeId","data-v-8af16aaa"]]);var $=N,M={name:"Main",components:{Player:y,List:$},mounted:function(){},methods:{play:function(){this.$refs.player.play()},changeMusic:function(e){this.$refs.player.changeMusic(e)},pause:function(){this.$refs.player.pause()}}};n("d112");const P=a()(M,[["render",f],["__scopeId","data-v-58380358"]]);var C=P,R=[{path:"/",name:"Main",component:C}],V=Object(p["a"])({history:Object(p["b"])("/player-u/"),routes:R}),_=V,A=n("5502"),T=n("1da1"),D=(n("96cf"),n("e9c4"),n("a434"),n("7db0"),n("d3b7"),n("159b"),n("bc3a")),Y=n.n(D),B=Y.a.create(),U=B;function J(e){return F.apply(this,arguments)}function F(){return F=Object(T["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={url:t},e.abrupt("return",U.get("https://noembed.com/embed",{params:n}));case 2:case"end":return e.stop()}}),e)}))),F.apply(this,arguments)}var G={namespaced:!0,state:{list:[],index:-1,loop:!1},mutations:{add:function(e,t){e.list.push(t),localStorage.setItem("PLAY_LIST",JSON.stringify(e.list))},remove:function(e,t){e.list.splice(t,1),localStorage.setItem("PLAY_LIST",JSON.stringify(e.list))},updateList:function(e,t){e.list=t,localStorage.setItem("PLAY_LIST",JSON.stringify(e.list));var n=e.list.find((function(e){return!0===e.playing}));if(n){var r=e.list.indexOf(n);e.index=r,e.list.forEach((function(t,n){t.playing=!1,e.index===n&&(t.playing=!0)}))}},updateIndex:function(e,t){e.index=t,e.list.forEach((function(t,n){t.playing=!1,e.index===n&&(t.playing=!0)}))},updateLoop:function(e,t){e.loop=t}},actions:{add:function(e,t){return Object(T["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,J(t);case 3:r=n.sent,r.data&&(o={title:r.data.title,thumbnail:r.data.thumbnail_url,playing:!1,url:t},e.commit("add",o)),console.log(r),n.next=12;break;case 8:return n.prev=8,n.t0=n["catch"](0),console.error(n.t0),n.abrupt("return",Promise.reject(n.t0));case 12:case"end":return n.stop()}}),n,null,[[0,8]])})))()},remove:function(e,t){return Object(T["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.commit("remove",t),e.state.index>t&&e.commit("updateIndex",e.state.index-1);case 2:case"end":return n.stop()}}),n)})))()},updateIndex:function(e,t){return Object(T["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.commit("updateIndex",t);case 1:case"end":return n.stop()}}),n)})))()},updateList:function(e,t){return Object(T["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.commit("updateList",t);case 1:case"end":return n.stop()}}),n)})))()},updateLoop:function(e,t){return Object(T["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.commit("updateLoop",t);case 1:case"end":return n.stop()}}),n)})))()}},getters:{list:function(e){return localStorage.getItem("PLAY_LIST")&&(e.list=JSON.parse(localStorage.getItem("PLAY_LIST"))),e.list},index:function(e){return e.index},loop:function(e){return e.loop}}},q=Object(A["a"])({state:{},mutations:{},actions:{},modules:{playList:G}}),z=n("1344"),X=Object(z["a"])(),H=Object(r["createApp"])(u);H.config.globalProperties.emitter=X,H.use(q).use(_).mount("#app")},"9d1b":function(e,t,n){},b75f:function(e,t,n){"use strict";n("2133")},d112:function(e,t,n){"use strict";n("3e46")},e48c:function(e,t,n){"use strict";n("9d1b")}});
//# sourceMappingURL=app.c265b710.js.map